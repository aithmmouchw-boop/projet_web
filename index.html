<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>CineTech</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="light">

<header>
  <h1>ğŸ¬ CineTech</h1>
  <nav>
    <button onclick="showSection('films')">Films</button>
    <button onclick="showSection('reservation')">RÃ©servation</button>
    <button onclick="showSection('seats')">Salles</button>
    <button onclick="showSection('dashboard')">Dashboard</button>
    <button onclick="showSection('dashboardAPI')">Dashboard API</button>
    <button onclick="toggleTheme()">ğŸŒ™ / â˜€ï¸</button>
  </nav>
</header>

<main>

  <!-- ===================== MODULE 2 : FILMS ===================== -->
  <section id="films" class="section">
    <h2>ğŸ¬ Films disponibles</h2>

    <!-- Ajout film -->
    <h3>â• Ajouter un film</h3>
    <input type="text" id="newFilmTitle" placeholder="Titre du film">
    <input type="text" id="newFilmGenre" placeholder="Genre (Action, ComÃ©die...)">
    <button class="primary" onclick="addFilm()">Ajouter</button>

     <h3>ğŸ”ƒ Trier les films</h3>
  <div class="sort-buttons">
    <button onclick="sortFilmsAZ()">A â†’ Z</button>
    <button onclick="sortFilmsZA()">Z â†’ A</button>
  </div>
    
    <!-- CatÃ©gories -->
    <h3>ğŸ­ CatÃ©gories</h3>
    <div id="categoryButtons"></div>

    <!-- Liste films -->
    <div class="movies-container" id="moviesContainer"></div>
    <input type="text" id="searchInput" placeholder="ğŸ” Rechercher un film..." oninput="searchFilm()">

  </section>

  <!-- ===================== MODULE 1 : RÃ‰SERVATION ===================== -->
  <section id="reservation" class="section">
    <h2>ğŸ“‘ RÃ©server une sÃ©ance</h2>

    <p>Choisissez un film, entrez votre nom, l'heure et le nombre de places.</p>
    <button class="primary" onclick="showForm()">Faire une rÃ©servation</button>

    <form id="reservationForm" style="display:none;">
      <select id="filmSelect" onchange="updateHeureSelect()"></select>
      <select id="heureSelect"></select>
      <input type="text" id="nom" placeholder="Votre nom">
      <input type="number" id="places" placeholder="Nombre de places" min="1">
      <button type="button" class="primary" onclick="reserver()">Confirmer la rÃ©servation</button>
    </form>

    <p id="message"></p>
    <p class="counter">Total des rÃ©servations : <span id="count">0</span></p>
  </section>

  <!-- ===================== SALLES ===================== -->
  <section id="seats" class="section">
    <h2>ğŸ’º Choix des places</h2>

    <div class="screen">ğŸ¬ Ã‰CRAN</div>
    <div id="seatGrid" class="seats"></div>

    <button class="primary" onclick="confirmSeats()">Confirmer les places</button>
    <p id="seatMessage"></p>
  </section>

  <!-- ===================== MODULE 3 : DASHBOARD LOCAL ===================== -->
  <section id="dashboard" class="section">
    <h2>ğŸ“Š Dashboard Administrateur</h2>

    <!-- KPI -->
    <div class="dash-cards">
      <div class="dash-card">
        <h3>ğŸ¬ Films</h3>
        <p id="dashFilms">0</p>
      </div>
      <div class="dash-card">
        <h3>ğŸ“‘ RÃ©servations</h3>
        <p id="dashReservations">0</p>
      </div>
      <div class="dash-card">
        <h3>ğŸ’º Places rÃ©servÃ©es</h3>
        <p id="dashSeats">0</p>
      </div>
    </div>

    <!-- DerniÃ¨re rÃ©servation -->
    <h3>ğŸ•’ DerniÃ¨re rÃ©servation</h3>
    <p id="lastReservation">Aucune rÃ©servation</p>

    <!-- Liste rÃ©servations (CRUD) -->
    <h3>ğŸ“‘ Liste des rÃ©servations</h3>
    <div id="reservationList"></div>

    <!-- Graphique -->
    <h3>ğŸ“Š RÃ©partition des films par genre</h3>
    <canvas id="filmsChart" width="600" height="300"></canvas>
  </section>

  <!-- ===================== DASHBOARD API ===================== -->
  <section id="dashboardAPI" class="section">
    <h2>ğŸŒ KPI CinÃ©ma (OMDB API)</h2>

    <p>Les donnÃ©es sont enrichies via lâ€™API OMDB.</p>
    <div id="dashAPI"></div>

    <button onclick="resetAll()" class="reset-btn">
      ğŸ”„ RÃ©initialiser les donnÃ©es
    </button>
  </section>

</main>

<!-- JS -->
<script src="projet.js"></script>
</body>
</html>